<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>v2.30 ì„œë¸Œ í…Œì´ë¸” ì›ê²© ìš´ì˜ ì˜µì…˜ ë¶„ì„ (ê°œì„ íŒ)</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <!-- Pretendard Font -->
    <link rel="stylesheet" as="style" crossorigin href="https://cdn.jsdelivr.net/gh/orioncactus/pretendard@v1.3.9/dist/web/static/pretendard.min.css" />
    <style>
        /* Base styles and custom utilities */
        body {
            font-family: 'Pretendard', sans-serif;
            background-color: #f8fafc; /* slate-50 */
            -webkit-font-smoothing: antialiased;
            -moz-osx-font-smoothing: grayscale;
        }

        /* Unified active button style for all buttons */
        .active-btn {
            background-color: #2563eb !important; /* blue-600 */
            color: white !important;
            transform: translateY(-2px);
            box-shadow: 0 10px 15px -3px rgb(0 0 0 / 0.1), 0 4px 6px -4px rgb(0 0 0 / 0.1);
        }

        /* Diagram line and arrow styles */
        .control-line {
            position: absolute;
            height: 2px; /* Use height instead of border for a cleaner line */
            transform-origin: left center;
            z-index: 10;
            transition: all 0.3s ease-in-out;
        }
        .control-line.remote { background-color: #3b82f6; /* blue-500 */ }
        .control-line.local { background-color: transparent; border-top: 2px dotted #10b981; } /* emerald-500 */
        .control-line.backup { background-color: transparent; border-top: 2px dashed #f97316; } /* orange-500 */

        .arrow {
            position: absolute;
            width: 0;
            height: 0;
            border-top: 6px solid transparent;
            border-bottom: 6px solid transparent;
            right: -2px; /* Adjusted for better alignment */
            top: 50%;
            transform: translateY(-50%);
        }
        .arrow.remote { border-left: 8px solid #3b82f6; }
        .arrow.local { border-left: 8px solid #10b981; }
        .arrow.backup { border-left: 8px solid #f97316; }

        /* Component styles */
        .location-box { z-index: 20; position: relative; }
        .feature-table {
            background-color: #f3f4f6; /* gray-100 */
            border: 1px solid #e5e7eb; /* gray-200 */
            padding: 0.75rem;
            border-radius: 0.5rem;
            text-align: center;
            color: #111827; /* gray-900 */
            font-weight: 600;
        }
        .control-point {
            font-size: 0.75rem;
            font-weight: 600;
            color: #374151; /* gray-700 */
            background-color: #ffffff;
            border: 1px solid #d1d5db; /* gray-300 */
            padding: 0.25rem 0.5rem;
            border-radius: 9999px;
            display: inline-block;
            box-shadow: 0 1px 2px 0 rgb(0 0 0 / 0.05);
        }
        .external-op {
            border-style: dashed;
            background-color: #e5e7eb; /* gray-200 */
            color: #6b7280; /* gray-500 */
        }
        .control-point.external-role {
            background-color: #f3e8ff; /* purple-100 */
            border-color: #d8b4fe; /* purple-300 */
            color: #6b21a8; /* purple-800 */
        }
        .item-card {
            display: flex;
            align-items: center;
            background-color: #f9fafb; /* gray-50 */
            padding: 0.75rem;
            border-radius: 0.5rem;
            border: 1px solid #f3f4f6; /* gray-100 */
        }
        .item-icon {
            width: 48px;
            height: 48px;
            display: flex;
            align-items: center;
            justify-content: center;
            margin-right: 1rem;
            color: #4b5563; /* gray-600 */
            background-color: #e5e7eb; /* gray-200 */
            border-radius: 0.375rem;
        }
        .item-name { flex-grow: 1; font-weight: 500; color: #374151; /* gray-700 */ }
        .item-quantity { font-family: monospace; font-weight: 700; font-size: 1.125rem; color: #1f2937; /* gray-800 */ }
        
        .scenario-card {
            background-color: white;
            border: 1px solid #e5e7eb;
            border-radius: 0.75rem;
            padding: 1rem;
            transition: all 0.3s ease;
            cursor: pointer;
        }
        .scenario-card:hover {
            transform: translateY(-4px);
            box-shadow: 0 10px 15px -3px rgb(0 0 0 / 0.07), 0 4px 6px -4px rgb(0 0 0 / 0.07);
        }
        .scenario-card.active-btn {
            border-color: #2563eb;
            background-color: #eff6ff;
        }

        /* Workflow diagram styles */
        .flow-node {
            background-color: white;
            border: 1px solid #d1d5db;
            border-radius: 0.5rem;
            padding: 0.75rem 1rem;
            text-align: center;
            box-shadow: 0 1px 2px 0 rgb(0 0 0 / 0.05);
            position: relative;
        }

        /* Cyprus column highlight style */
        .highlight-cyprus {
            background-color: #eff6ff; /* blue-50 */
            border-radius: 0.375rem; /* rounded-md */
            font-weight: 700; /* bold */
            padding-top: 0.25rem;
            padding-bottom: 0.25rem;
        }
    </style>
</head>
<body class="text-slate-800">

    <div class="container mx-auto p-4 sm:p-6 md:p-8 max-w-screen-2xl">

        <header class="text-center mb-12 md:mb-16">
            <h1 class="text-3xl md:text-4xl lg:text-5xl font-extrabold text-slate-900 mb-3">v2.30 ì„œë¸Œ í…Œì´ë¸” ì›ê²© ìš´ì˜ ì˜µì…˜ ë¶„ì„</h1>
            <p class="text-base md:text-lg text-slate-600">ì•ˆì •ì„±ê³¼ íš¨ìœ¨ì„±ì— ê¸°ë°˜í•œ ìµœì ì˜ ì‹œìŠ¤í…œ êµ¬ì¡° íƒìƒ‰</p>
        </header>

        <main class="space-y-12">
            <!-- Section 1: Prerequisites -->
            <section id="prerequisites" aria-labelledby="prerequisites-title" class="bg-white p-6 sm:p-8 rounded-2xl shadow-lg">
                <h2 id="prerequisites-title" class="text-2xl font-bold text-slate-900 mb-6 text-center">1. ê³µí†µ ì „ì œ ì¡°ê±´</h2>
                <div class="space-y-8">
                    <div>
                        <h3 class="font-bold text-lg mb-2 text-slate-800">ìš´ì˜ ì£¼ì²´</h3>
                        <p class="text-slate-600">ë©”ì¸ í…Œì´ë¸”ì€ ì™¸ì£¼ í”„ë¡œë•ì…˜(Pokercaster)ì—ì„œ ìš´ì˜í•˜ë©°, ìš°ë¦¬ëŠ” ì„œë¸Œ í…Œì´ë¸”ì˜ ìš´ì˜ ë°©ì‹ë§Œ ê²€í† í•©ë‹ˆë‹¤.</p>
                    </div>
                    <!-- Equipment Status -->
                    <div>
                        <h3 class="font-bold text-lg mb-4 text-slate-800">ì¥ë¹„ í˜„í™©</h3>
                        <div class="space-y-6">
                            <div class="grid grid-cols-5 gap-4 text-center font-bold text-slate-600">
                                <div class="col-span-2 text-left">ì¥ë¹„ëª…</div>
                                <div class="highlight-cyprus">ğŸ‡¨ğŸ‡¾ í‚¤í”„ë¡œìŠ¤</div>
                                <div>ğŸ‡¨ğŸ‡¿ í”„ë¼í•˜</div>
                                <div>ğŸ‡°ğŸ‡· í•œêµ­</div>
                            </div>
                            <div class="space-y-3">
                                <!-- Equipment items -->
                                <div class="grid grid-cols-5 gap-4 items-center bg-slate-50 p-3 rounded-lg">
                                    <div class="col-span-2 font-semibold text-slate-800">ìŠ¤ìœ„ì²˜</div>
                                    <div class="text-center font-bold text-lg highlight-cyprus">2</div>
                                    <div class="text-center">-</div>
                                    <div class="text-center font-bold text-lg">1</div>
                                </div>
                                 <div class="grid grid-cols-5 gap-4 items-center bg-slate-50 p-3 rounded-lg">
                                    <div class="col-span-2 font-semibold text-slate-800">FR7 ë°”ë””</div>
                                    <div class="text-center font-bold text-lg highlight-cyprus">8</div>
                                    <div class="text-center">-</div>
                                    <div class="text-center font-bold text-lg">10</div>
                                </div>
                                <div class="grid grid-cols-5 gap-4 items-center bg-slate-50 p-3 rounded-lg">
                                    <div class="col-span-2 font-semibold text-slate-800">FR7 ë Œì¦ˆ</div>
                                    <div class="text-center highlight-cyprus">-</div>
                                    <div class="text-center font-bold text-lg">12</div>
                                    <div class="text-center font-bold text-lg">6</div>
                                </div>
                                <div class="grid grid-cols-5 gap-4 items-center bg-slate-50 p-3 rounded-lg">
                                    <div class="col-span-2 font-semibold text-slate-800">FR7 ì»¨íŠ¸ë¡¤ëŸ¬</div>
                                    <div class="text-center font-bold text-lg highlight-cyprus">2</div>
                                    <div class="text-center font-bold text-lg">-</div>
                                    <div class="text-center font-bold text-lg">1</div>
                                </div>
                                <div class="grid grid-cols-5 gap-4 items-center bg-slate-50 p-3 rounded-lg">
                                    <div class="col-span-2 font-semibold text-slate-800">ë¯¸ëŸ¬ë¦¬ìŠ¤ ì¹´ë©”ë¼ ë°”ë””</div>
                                    <div class="text-center highlight-cyprus">-</div>
                                    <div class="text-center font-bold text-lg">11</div>
                                    <div class="text-center font-bold text-lg">6</div>
                                </div>
                                <div class="grid grid-cols-5 gap-4 items-center bg-slate-50 p-3 rounded-lg">
                                    <div class="col-span-2 font-semibold text-slate-800">ë¯¸ëŸ¬ë¦¬ìŠ¤ ì¹´ë©”ë¼ ë Œì¦ˆ</div>
                                    <div class="text-center highlight-cyprus">-</div>
                                    <div class="text-center font-bold text-lg">11</div>
                                    <div class="text-center font-bold text-lg">7</div>
                                </div>
                                <div class="grid grid-cols-5 gap-4 items-center bg-slate-50 p-3 rounded-lg">
                                    <div class="col-span-2 font-semibold text-slate-800">ë¬´ì„  ì†¡ìˆ˜ì‹ ê¸°</div>
                                    <div class="text-center font-bold text-lg highlight-cyprus">2set</div>
                                    <div class="text-center">-</div>
                                    <div class="text-center font-bold text-lg">4set</div>
                                </div>
                                <div class="grid grid-cols-5 gap-4 items-center bg-slate-50 p-3 rounded-lg">
                                    <div class="col-span-2 font-semibold text-slate-800">ê¸°íƒ€ ìì¬</div>
                                    <div class="text-center font-bold text-lg highlight-cyprus">1 pack</div>
                                    <div class="text-center font-bold text-lg">1 pack</div>
                                    <div class="text-center font-bold text-lg">1 pack</div>
                                </div>
                            </div>
                            <div class="mt-6">
                                <h4 class="font-semibold text-orange-600 mb-3 border-b pb-2">âš ï¸ ìš´ì†¡ ë°©ì‹ ê²€í†  í•„ìš” (í”„ë¼í•˜ -> í‚¤í”„ë¡œìŠ¤)</h4>
                                <div class="grid sm:grid-cols-2 lg:grid-cols-4 gap-3 pt-2">
                                    <div class="item-card">
                                        <div class="item-icon"><svg xmlns="http://www.w3.org/2000/svg" width="28" height="28" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M12 22V8.5"></path><path d="m5 12 7-7 7 7"></path><path d="M12 2v2.5"></path></svg></div>
                                        <span class="item-name">íŠ¸ë¼ì´í¬ë“œ</span>
                                        <span class="item-quantity">15</span>
                                    </div>
                                    <div class="item-card">
                                        <div class="item-icon"><svg xmlns="http://www.w3.org/2000/svg" width="28" height="28" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><circle cx="8" cy="18" r="2"></circle><circle cx="16" cy="18" r="2"></circle><path d="M12 18V6l4-2-8-2-4 2v10c0 1.1.9 2 2 2h12a2 2 0 0 0 2-2V8"></path></svg></div>
                                        <span class="item-name">íŠ¸ë¼ì´í¬ë“œ ë‹¬ë¦¬</span>
                                        <span class="item-quantity">2</span>
                                    </div>
                                    <div class="item-card">
                                        <div class="item-icon"><svg xmlns="http://www.w3.org/2000/svg" width="28" height="28" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M15 13a3 3 0 1 1-6 0 3 3 0 0 1 6 0Z"></path><path d="M12 4v5"></path><path d="M12 17v1a2 2 0 0 1-2 2H8a2 2 0 0 1-2-2v-1a2 2 0 0 1 2-2h1.17a2 2 0 0 0 1.42-.59L12 12l.59.59a2 2 0 0 0 1.41.59H16a2 2 0 0 1 2 2v1a2 2 0 0 1-2 2h-2a2 2 0 0 1-2-2Z"></path></svg></div>
                                        <span class="item-name">ì¡°ëª… (Sky Panel)</span>
                                        <span class="item-quantity">4</span>
                                    </div>
                                    <div class="p-2 rounded-md bg-red-50 border border-red-200 text-red-700 text-xs font-bold self-center">â€» ì¡°ëª…ì€ í•­ê³µ ìš´ì†¡ ë¶ˆê°€, ë‚˜ë¨¸ì§€ í’ˆëª©ì€ ìš´ì†¡ ê°€ëŠ¥ ì—¬ë¶€ ê²€í†  í•„ìš”</div>
                                </div>
                            </div>
                        </div>
                    </div>
                    <!-- Transport Options -->
                    <div>
                        <h3 class="font-bold text-lg mb-4 text-slate-800">í”„ë¼í•˜ ì¥ë¹„ ìš´ì†¡ ì˜µì…˜</h3>
                        <div class="grid md:grid-cols-3 gap-6 mt-4">
                            <!-- Option 1: Air Baggage -->
                            <div class="border rounded-lg p-4 bg-slate-50 flex flex-col">
                                <div class="text-center mb-3">
                                    <span class="text-3xl">âœˆï¸</span>
                                    <h4 class="font-bold text-lg">í•­ê³µ ìˆ˜í™”ë¬¼</h4>
                                </div>
                                <div class="text-center mb-4 p-2 bg-blue-100 rounded-md">
                                    <p class="font-bold text-blue-800 text-lg">$2,000</p>
                                    <p class="text-xs text-blue-600">(í•­ê³µ ì¸ì› 4~8ì¸ í•„ìš”)</p>
                                </div>
                                <ul class="space-y-2 text-sm mt-auto">
                                    <li class="flex items-start"><span class="text-green-500 mr-2">âœ“</span><span>ê°€ì¥ ë¹ ë¥´ê³  ê°„í¸í•œ ìš´ì†¡</span></li>
                                    <li class="flex items-start"><span class="text-red-500 mr-2">âœ—</span><span class="font-bold text-red-600">ì¡°ëª…(Sky Panel) ìš´ì†¡ ë¶ˆê°€</span></li>
                                    <li class="flex items-start"><span class="text-red-500 mr-2">âœ—</span><span>ë¶„ì‹¤ ë° íŒŒì† ìœ„í—˜ ì¡´ì¬</span></li>
                                </ul>
                            </div>
                            <!-- Option 2: ATA Carnet -->
                            <div class="border rounded-lg p-4 bg-slate-50 flex flex-col">
                                <div class="text-center mb-3">
                                    <span class="text-3xl">ğŸ“„</span>
                                    <h4 class="font-bold text-lg">ATA ê¹Œë¥´ë„¤</h4>
                                </div>
                                <div class="text-center mb-4 p-2 bg-blue-100 rounded-md">
                                    <p class="font-bold text-blue-800 text-lg">$30,000</p>
                                    <p class="text-xs text-blue-600">(ê³ ì • ë¹„ìš©)</p>
                                </div>
                                <ul class="space-y-2 text-sm mt-auto">
                                    <li class="flex items-start"><span class="text-green-500 mr-2">âœ“</span><span>ë©´ì„¸/ë¬´ê´€ì„¸ ì„ì‹œ í†µê´€</span></li>
                                    <li class="flex items-start"><span class="text-green-500 mr-2">âœ“</span><span>ëª¨ë“  ì¥ë¹„ ìš´ì†¡ ê°€ëŠ¥</span></li>
                                    <li class="flex items-start"><span class="text-red-500 mr-2">âœ—</span><span>ì„œë¥˜ ì ˆì°¨ ë³µì¡ ë° ë¹„ìš© ë°œìƒ</span></li>
                                </ul>
                            </div>
                            <!-- Option 3: Cyprus Export -->
                            <div class="border rounded-lg p-4 bg-slate-50 flex flex-col">
                                <div class="text-center mb-3">
                                    <span class="text-3xl">ğŸš¢</span>
                                    <h4 class="font-bold text-lg">í‚¤í”„ë¡œìŠ¤ ìˆ˜ì¶œ</h4>
                                </div>
                                <div class="text-center mb-4 p-2 bg-gray-200 rounded-md">
                                    <p class="font-bold text-gray-800 text-lg">ë¯¸ì •</p>
                                    <p class="text-xs text-gray-600">(ê²¬ì  í•„ìš”)</p>
                                </div>
                                <ul class="space-y-2 text-sm mt-auto">
                                    <li class="flex items-start"><span class="text-green-500 mr-2">âœ“</span><span>ì˜êµ¬ì ì¸ ì¥ë¹„ ì´ì „</span></li>
                                    <li class="flex items-start"><span class="text-red-500 mr-2">âœ—</span><span>ì •ì‹ í†µê´€ ì ˆì°¨ ë° ê´€ì„¸ ë°œìƒ</span></li>
                                    <li class="flex items-start"><span class="text-red-500 mr-2">âœ—</span><span>ì‹œê°„ê³¼ ë¹„ìš©ì´ ê°€ì¥ ë§ì´ ì†Œìš”</span></li>
                                </ul>
                            </div>
                        </div>
                    </div>
                </div>
            </section>

            <!-- Section 2: 2-Table Operation Analysis -->
            <section id="two-table-analysis" aria-labelledby="two-table-title" class="bg-white p-6 sm:p-8 rounded-2xl shadow-lg">
                <h2 id="two-table-title" class="text-2xl font-bold text-slate-900 mb-2 text-center">2. ìš´ì˜ ì˜µì…˜ ë¹„êµ ë¶„ì„ (2í…Œì´ë¸”)</h2>
                <p class="text-center text-slate-500 mb-8">ì•„ë˜ ë²„íŠ¼ì„ í´ë¦­í•˜ì—¬ ê° ì˜µì…˜ì˜ ìƒì„¸ ë‚´ìš©ì„ í™•ì¸í•˜ì„¸ìš”.</p>
                
                <div id="analyzer-2-table-controls">
                    <!-- Buttons will be injected by JS -->
                </div>

                <div class="grid lg:grid-cols-5 gap-8 mt-10">
                    <div class="lg:col-span-3">
                        <h3 class="text-xl font-bold text-slate-800 mb-4 text-center">ìš´ì˜ ì œì–´ íë¦„</h3>
                        <div id="analyzer-2-table-content" class="transition-opacity duration-500" aria-live="polite">
                            <div id="analyzer-2-table-diagram" class="relative h-96 flex justify-around items-center px-4 bg-slate-50 rounded-xl border">
                                <!-- Diagram will be rendered by JS -->
                            </div>
                        </div>
                    </div>
                    <div class="lg:col-span-2">
                        <h3 id="analyzer-2-table-option-title" class="text-xl font-bold text-slate-800 mb-4 text-center"></h3>
                        <div id="analyzer-2-table-option-details" class="space-y-6">
                            <!-- Details will be rendered by JS -->
                        </div>
                    </div>
                </div>
            </section>

            <!-- Section 3: Workflow Process -->
            <section id="workflow-process" aria-labelledby="workflow-title" class="bg-white p-6 sm:p-8 rounded-2xl shadow-lg">
                <h2 id="workflow-title" class="text-2xl font-bold text-slate-900 mb-2 text-center">3. ì—…ë¬´ í”„ë¡œì„¸ìŠ¤ (2í…Œì´ë¸”)</h2>
                <p class="text-center text-slate-500 mb-8">ì„ íƒëœ ì˜µì…˜ì— ë”°ë¥¸ ìƒì‹œ ìš´ì˜ë¶€í„° ë¹„ìƒ ëŒ€ì‘ ë° ì •ìƒí™”ê¹Œì§€ì˜ ì „ì²´ ì—…ë¬´ íë¦„ì„ ë‚˜íƒ€ëƒ…ë‹ˆë‹¤.</p>
                <div id="analyzer-2-table-workflow" class="bg-slate-50 p-6 rounded-lg border flex flex-col items-center relative" aria-live="polite">
                    <!-- Workflow diagram will be rendered by JS -->
                </div>
            </section>

            <!-- Section 4: 3-Table Operation Analysis -->
            <section id="three-table-analysis" aria-labelledby="three-table-title" class="bg-white p-6 sm:p-8 rounded-2xl shadow-lg">
                <h2 id="three-table-title" class="text-2xl font-bold text-slate-900 mb-2 text-center">4. 3í…Œì´ë¸” ìš´ì˜ ì˜µì…˜ ë¶„ì„</h2>
                <p class="text-center text-slate-500 mb-8">ë¶„ì„í•  ìš´ì˜ ì‹œë‚˜ë¦¬ì˜¤ë¥¼ ì„ íƒí•˜ì„¸ìš”.</p>
                
                <div id="analyzer-3-table-controls" class="grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-6">
                    <!-- Scenario cards will be injected by JS -->
                </div>
                
                <div id="analyzer-3-table-sub-controls" class="my-6 text-center hidden">
                    <div class="inline-flex p-1.5 bg-slate-200 rounded-xl space-x-2">
                        <!-- Sub-option buttons will be injected here -->
                    </div>
                </div>

                <div class="grid lg:grid-cols-5 gap-8 mt-10">
                    <div class="lg:col-span-3">
                        <h3 class="text-xl font-bold text-slate-800 mb-4 text-center">ìš´ì˜ ì œì–´ íë¦„</h3>
                        <div id="analyzer-3-table-content" class="transition-opacity duration-500" aria-live="polite">
                            <div id="analyzer-3-table-diagram" class="relative min-h-[24rem] flex justify-around items-stretch px-4 bg-slate-50 rounded-xl border">
                                <!-- Diagram will be rendered by JS -->
                            </div>
                        </div>
                    </div>
                    <div class="lg:col-span-2">
                        <h3 id="analyzer-3-table-option-title" class="text-xl font-bold text-slate-800 mb-4 text-center">ìƒì„¸ ë¶„ì„</h3>
                        <div id="analyzer-3-table-option-details" class="space-y-6">
                            <!-- Details will be rendered by JS -->
                        </div>
                    </div>
                </div>
            </section>
        </main>

        <footer class="text-center mt-16 pt-8 border-t border-slate-200">
            <p class="text-slate-500 text-sm">&copy; 2024 Interactive System Analysis. All Rights Reserved.</p>
        </footer>
    </div>

    <script>
    // --- UNIFIED & REFACTORED SCRIPT ---
    document.addEventListener('DOMContentLoaded', () => {

        /**
         * ----------------------------------------------------------------
         * DATA STORE
         * ----------------------------------------------------------------
         */
        const twoTableDiagramHTML = {
            base: `
                <div data-id="loc-korea" class="location-box text-center w-40">
                    <div class="p-4 bg-blue-500 text-white rounded-lg shadow-lg">ğŸ‡°ğŸ‡· í•œêµ­</div>
                    <div class="text-sm font-semibold mt-1">ì›ê²© ì œì–´ ì„¼í„°</div>
                    <div data-id="korea-control-points" class="mt-4 space-y-2">
                        <div data-id="korea-sub-sw" class="control-point bg-white shadow">ìŠ¤ìœ„ì¹­ ì»·</div>
                        <div data-id="korea-sub-fr7" class="control-point bg-white shadow">FR7 ì œì–´</div>
                    </div>
                </div>
                <div data-id="loc-cyprus" class="location-box text-center w-56">
                    <div class="p-4 bg-green-500 text-white rounded-lg shadow-lg">
                        <div class="font-bold mb-3">ğŸ‡¨ğŸ‡¾ í‚¤í”„ë¡œìŠ¤</div>
                        <div class="space-y-3">
                            <div data-id="main-table" class="feature-table external-op">
                                <div class="font-bold mb-1">ë©”ì¸ í…Œì´ë¸”</div>
                                <div class="text-xs font-semibold">Pokercaster ìš´ì˜</div>
                            </div>
                            <div data-id="sub-table" class="feature-table">
                                <div class="font-bold">ì„œë¸Œ í…Œì´ë¸”</div>
                                <div data-id="cyprus-manual-control" class="mt-2 space-y-1">
                                    <div data-id="cyprus-fr7" class="control-point">FR7 ì œì–´</div>
                                    <div data-id="cyprus-freecam" class="control-point">
                                        í”„ë¦¬ ì¹´ë©”ë¼ <span data-id="personnel-indicator" class="font-bold text-emerald-600"></span>
                                    </div>
                                </div>
                            </div>
                            <div data-id="cyprus-backup" class="feature-table bg-orange-400 text-white mt-4">
                                <span class="font-bold">í˜„ì¥ ë°±ì—…</span>
                                <div data-id="backup-control-points" class="mt-2 space-y-1">
                                    <div data-id="backup-sub-sw" class="control-point bg-white text-gray-700 shadow-sm">ìŠ¤ìœ„ì¹­ ì»·</div>
                                    <div data-id="backup-sub-fr7" class="control-point bg-white text-gray-700 shadow-sm">FR7 ì œì–´</div>
                                </div>
                            </div>
                        </div>
                    </div>
                    <div class="text-sm font-semibold mt-1">í”„ë¡œë•ì…˜ í˜„ì¥</div>
                </div>`,
            hide(...elements) {
                let html = this.base;
                elements.forEach(id => {
                    const regex = new RegExp(`(data-id="${id}"[^>]*?)>`);
                    html = html.replace(regex, `$1 style="display: none;">`);
                });
                return html;
            }
        };

        const twoTableData = {
            option1: {
                groupTitle: 'ì˜µì…˜ 1: ì›ê²© + í˜„ì¥',
                options: {
                    a: {
                        buttonTitle: 'a) í˜„ì¥ 1ì¸',
                        title: 'ì˜µì…˜ 1a: ì›ê²© + í˜„ì¥ 1ì¸',
                        concept: 'í•œêµ­ì—ì„œ ìŠ¤ìœ„ì¹­/FR7ì„ ì›ê²© ì œì–´í•˜ê³ , í‚¤í”„ë¡œìŠ¤ í˜„ì¥ì—ì„œ 1ì¸ì´ í”„ë¦¬ ì¹´ë©”ë¼ë¥¼ ì§ì ‘ ìš´ì˜í•©ë‹ˆë‹¤.',
                        personnel: { korea: 'ì›ê²© ì œì–´ 1ì¸', cyprus: 'í˜„ì¥ í”„ë¦¬ìº  ìš´ì˜ 1ì¸' },
                        cost: '$10,000',
                        risk: { text: 'ì¤‘', class: 'bg-yellow-100 text-yellow-800' },
                        pros: ['í•„ìˆ˜ ì¸ë ¥ë§Œ í˜„ì¥ì— íŒŒê²¬í•˜ì—¬ ë¹„ìš© íš¨ìœ¨ì ', 'ì£¼ìš” ì œì–´ëŠ” ì›ê²©ìœ¼ë¡œ ì§„í–‰í•˜ì—¬ íš¨ìœ¨ì„± í™•ë³´'],
                        cons: ['í˜„ì¥ í”„ë¦¬ìº  ìš´ì˜ì 1ì¸ì—ê²Œ ê³¼ë¶€í•˜ ê°€ëŠ¥ì„±', 'ì›ê²© ì‹œìŠ¤í…œ ì¥ì•  ì‹œ í˜„ì¥ ëŒ€ì‘ ëŠ¥ë ¥ ì œí•œì '],
                        diagram: {
                            html: twoTableDiagramHTML.hide('cyprus-backup', 'cyprus-fr7', 'personnel-indicator'),
                            lines: [
                                { from: 'korea-sub-sw', to: 'sub-table', type: 'remote' },
                                { from: 'korea-sub-fr7', to: 'sub-table', type: 'remote' },
                                { from: 'cyprus-freecam', to: 'sub-table', type: 'local' }
                            ]
                        },
                        workflow: {
                            normal: { korea: 'ìŠ¤ìœ„ì¹­ ì»· / FR7 ì œì–´', cyprus: 'í”„ë¦¬ ì¹´ë©”ë¼' },
                            emergency: { html: `<div class="w-full flex justify-around text-center text-sm"><div class="w-1/3 px-1"><h4 class="font-bold">ğŸ‡°ğŸ‡· í•œêµ­ íŒ€</h4><div class="flow-node mt-2 bg-slate-100 h-full flex items-center justify-center">â³ ëŒ€ê¸°</div></div><div class="w-1/3 px-1"><h4 class="font-bold">ğŸ‡¨ğŸ‡¾ í˜„ì¥ íŒ€</h4><div class="flow-node mt-2 bg-slate-100 h-full flex items-center justify-center">â³ ëŒ€ê¸°</div></div><div class="w-1/3 px-1"><h4 class="font-bold">ğŸ› ï¸ ê¸°ìˆ íŒ€ (í˜„ì¥)</h4><div class="flow-node mt-2 bg-blue-100 h-full flex items-center justify-center">ì¥ì•  ë³µêµ¬</div></div></div>` }
                        }
                    },
                    b: {
                        buttonTitle: 'b) í˜„ì¥ 2ì¸',
                        title: 'ì˜µì…˜ 1b: ì›ê²© + í˜„ì¥ 2ì¸',
                        concept: 'í•œêµ­ì—ì„œ ìŠ¤ìœ„ì¹­/FR7ì„ ì›ê²© ì œì–´í•˜ê³ , í‚¤í”„ë¡œìŠ¤ í˜„ì¥ì—ì„œ 2ì¸ì´ í”„ë¦¬ ì¹´ë©”ë¼ë¥¼ ìš´ì˜í•˜ì—¬ ì•ˆì •ì„±ì„ ë†’ì…ë‹ˆë‹¤.',
                        personnel: { korea: 'ì›ê²© ì œì–´ 1ì¸', cyprus: 'í˜„ì¥ í”„ë¦¬ìº  ìš´ì˜ 2ì¸ (ë¡œí…Œì´ì…˜)' },
                        cost: '$20,000',
                        risk: { text: 'ì¤‘í•˜', class: 'bg-lime-100 text-lime-800' },
                        pros: ['í˜„ì¥ ì¸ë ¥ 2ëª…ìœ¼ë¡œ ì•ˆì •ì ì¸ í”„ë¦¬ìº  ìš´ì˜ ê°€ëŠ¥', 'í˜„ì¥ ë¬¸ì œ ë°œìƒ ì‹œ ìƒí˜¸ ë°±ì—… ë° ì‹ ì† ëŒ€ì‘'],
                        cons: ['ì˜µì…˜ 1a ëŒ€ë¹„ ì¶œì¥ ì¸ì› ì¦ê°€ë¡œ ë¹„ìš© ìƒìŠ¹', 'ì›ê²© ì‹œìŠ¤í…œ ì¥ì•  ë¦¬ìŠ¤í¬ëŠ” ì—¬ì „íˆ ì¡´ì¬'],
                        diagram: {
                            html: twoTableDiagramHTML.base.replace('<span data-id="personnel-indicator"', '<span data-id="personnel-indicator" style="display: inline-block;"').replace('</span>', 'x2</span>').replace('style="display: none;"', ''),
                            lines: [
                                { from: 'korea-sub-sw', to: 'sub-table', type: 'remote' },
                                { from: 'korea-sub-fr7', to: 'sub-table', type: 'remote' },
                                { from: 'cyprus-freecam', to: 'sub-table', type: 'local' }
                            ]
                        },
                        workflow: {
                            normal: { korea: 'ìŠ¤ìœ„ì¹­ ì»· / FR7 ì œì–´', cyprus: 'í”„ë¦¬ ì¹´ë©”ë¼' },
                            emergency: { html: `<div class="w-full flex justify-around text-center text-sm"><div class="w-1/3 px-1"><h4 class="font-bold">ğŸ‡°ğŸ‡· í•œêµ­ íŒ€</h4><div class="flow-node mt-2 bg-slate-100 h-full flex items-center justify-center">â³ ëŒ€ê¸°</div></div><div class="w-1/3 px-1"><h4 class="font-bold">ğŸ‡¨ğŸ‡¾ í˜„ì¥ íŒ€</h4><div class="flow-node mt-2 bg-slate-100 h-full flex items-center justify-center">â³ ëŒ€ê¸°</div></div><div class="w-1/3 px-1"><h4 class="font-bold">ğŸ› ï¸ ê¸°ìˆ íŒ€ (í˜„ì¥)</h4><div class="flow-node mt-2 bg-blue-100 h-full flex items-center justify-center">ì¥ì•  ë³µêµ¬</div></div></div>` }
                        }
                    }
                }
            },
            option2: {
                groupTitle: 'ì˜µì…˜ 2: í•˜ì´ë¸Œë¦¬ë“œ',
                options: {
                    a: {
                        buttonTitle: 'í˜„ì¥ ì¹´ë©”ë¼ ì œì–´',
                        title: 'ì˜µì…˜ 2: í•˜ì´ë¸Œë¦¬ë“œ ì œì–´',
                        concept: 'í•œêµ­ì—ì„œ ìŠ¤ìœ„ì¹­ë§Œ ì›ê²© ì œì–´í•˜ê³ , í˜„ì¥ì—ì„œ FR7ê³¼ í”„ë¦¬ ì¹´ë©”ë¼ë¥¼ ì§ì ‘ ìš´ì˜í•˜ì—¬ ì¹´ë©”ë¼ ì›Œí¬ì˜ ì•ˆì •ì„±ì„ ë†’ì…ë‹ˆë‹¤.',
                        personnel: { korea: 'ì›ê²© ìŠ¤ìœ„ì¹­ 1ì¸', cyprus: 'í˜„ì¥ ì¹´ë©”ë¼ 2ì¸ (FR7, í”„ë¦¬ìº )' },
                        cost: '$20,000',
                        risk: { text: 'ì¤‘', class: 'bg-yellow-100 text-yellow-800' },
                        pros: ['ì¹´ë©”ë¼ ì œì–´ì˜ ì§€ì—° ì‹œê°„(Latency) ì—†ìŒ', 'ì•ˆì •ì ì¸ í˜„ì¥ ì¹´ë©”ë¼ ì›Œí¬ í’ˆì§ˆ í™•ë³´'],
                        cons: ['ìŠ¤ìœ„ì¹­ì€ ì›ê²©ì— ì˜ì¡´í•˜ì—¬ ì¥ì•  ë¦¬ìŠ¤í¬ ì¡´ì¬', 'ì˜µì…˜ 1a ëŒ€ë¹„ í˜„ì¥ ì¸ë ¥ 1ëª… ì¦ê°€'],
                        diagram: {
                            html: twoTableDiagramHTML.hide('cyprus-backup', 'korea-sub-fr7', 'personnel-indicator'),
                            lines: [
                                { from: 'korea-sub-sw', to: 'sub-table', type: 'remote' },
                                { from: 'cyprus-fr7', to: 'sub-table', type: 'local' },
                                { from: 'cyprus-freecam', to: 'sub-table', type: 'local' }
                            ]
                        },
                         workflow: {
                            normal: { korea: 'ìŠ¤ìœ„ì¹­ ì»·', cyprus: 'FR7 ì œì–´ / í”„ë¦¬ ì¹´ë©”ë¼' },
                            emergency: { html: `<div class="w-full flex justify-around text-center text-sm"><div class="w-1/3 px-1"><h4 class="font-bold">ğŸ‡°ğŸ‡· í•œêµ­ íŒ€</h4><div class="flow-node mt-2 bg-slate-100 h-full flex items-center justify-center">â³ ëŒ€ê¸°</div></div><div class="w-1/3 px-1"><h4 class="font-bold">ğŸ‡¨ğŸ‡¾ í˜„ì¥ íŒ€</h4><div class="flow-node mt-2 bg-slate-100 h-full flex items-center justify-center">â³ ëŒ€ê¸°</div></div><div class="w-1/3 px-1"><h4 class="font-bold">ğŸ› ï¸ ê¸°ìˆ íŒ€ (í˜„ì¥)</h4><div class="flow-node mt-2 bg-blue-100 h-full flex items-center justify-center">ì¥ì•  ë³µêµ¬</div></div></div>` }
                        }
                    }
                }
            },
            option3: {
                groupTitle: 'ì˜µì…˜ 3: ì™„ì „ ì´ì¤‘í™”',
                options: {
                    a: {
                        buttonTitle: 'a) ì›ê²© ë°±ì—…',
                        title: 'ì˜µì…˜ 3a: ì›ê²© ì œì–´ ë°±ì—…',
                        concept: 'í•œêµ­ ì›ê²©íŒ€ì´ ìŠ¤ìœ„ì¹­/FR7ì„, í˜„ì¥íŒ€ì´ í”„ë¦¬ìº ì„ ë‹´ë‹¹í•©ë‹ˆë‹¤. ë¹„ìƒì‹œë¥¼ ëŒ€ë¹„í•´ í˜„ì¥ì— ì›ê²© ì œì–´ë¥¼ ë°±ì—…í•  ìˆ˜ ìˆëŠ” ì¸ë ¥ê³¼ ì‹œìŠ¤í…œì„ ì¶”ê°€ ë°°ì¹˜í•©ë‹ˆë‹¤.',
                        personnel: { korea: 'ì›ê²© ì œì–´ 1ì¸', cyprus: 'í˜„ì¥ í”„ë¦¬ìº  1ì¸, í˜„ì¥ ë°±ì—… 1ì¸' },
                        cost: '$20,000',
                        risk: { text: 'ìµœí•˜', class: 'bg-teal-100 text-teal-800' },
                        pros: ['ëª¨ë“  ì›ê²© ê¸°ëŠ¥ì— ëŒ€í•œ ì´ì¤‘í™”ë¡œ ì•ˆì •ì„± ê·¹ëŒ€í™”', 'ì›ê²© ë° í˜„ì¥ ë¬¸ì œ ë™ì‹œ ëŒ€ì‘ ê°€ëŠ¥'],
                        cons: ['ê°€ì¥ ë§ì€ ì¸ë ¥(ì´ 3ì¸)ê³¼ ì¥ë¹„ê°€ íˆ¬ì…ë˜ì–´ ë¹„ìš©ì´ ê°€ì¥ ë†’ìŒ', 'ìš´ì˜ êµ¬ì¡°ê°€ ë³µì¡í•¨'],
                        diagram: {
                             html: twoTableDiagramHTML.hide('cyprus-fr7', 'personnel-indicator'),
                             lines: [
                                { from: 'korea-sub-sw', to: 'sub-table', type: 'remote' },
                                { from: 'korea-sub-fr7', to: 'sub-table', type: 'remote' },
                                { from: 'cyprus-freecam', to: 'sub-table', type: 'local' },
                                { from: 'backup-sub-sw', to: 'sub-table', type: 'backup' },
                                { from: 'backup-sub-fr7', to: 'sub-table', type: 'backup' }
                            ]
                        },
                        workflow: {
                            normal: { korea: 'ìŠ¤ìœ„ì¹­ ì»· / FR7 ì œì–´', cyprus: 'í”„ë¦¬ ì¹´ë©”ë¼' },
                            emergency: { html: `<div class="w-full flex justify-around text-center text-sm"><div class="w-1/3 px-1"><h4 class="font-bold">ğŸ‡°ğŸ‡· í•œêµ­ íŒ€</h4><div class="flow-node mt-2 bg-slate-100 h-full flex items-center justify-center">â³ ëŒ€ê¸°</div></div><div class="w-1/3 px-1"><h4 class="font-bold">ğŸ‡¨ğŸ‡¾ í˜„ì¥ íŒ€</h4><div class="flow-node mt-2 space-y-2"><div class="control-point bg-gray-200 border-gray-300 text-gray-500">í”„ë¦¬ ì¹´ë©”ë¼ (í™€ë“œ)</div></div><div style="height:1rem; width:2px; background-color: #cbd5e1; margin: 0.5rem auto;"></div><div class="flow-node mt-2 bg-orange-100 border-orange-300 space-y-2"><div class="control-point">ìŠ¤ìœ„ì¹­ ì»·</div><div class="control-point">FR7 ì œì–´</div><div class="font-bold text-orange-600 text-xs mt-1">ì—­í•  ì „í™˜</div></div></div><div class="w-1/3 px-1"><h4 class="font-bold">ğŸ› ï¸ ê¸°ìˆ íŒ€ (í˜„ì¥)</h4><div class="flow-node mt-2 bg-blue-100 h-full flex items-center justify-center">ì¥ì•  ë³µêµ¬</div></div></div>` }
                        }
                    },
                    b: {
                        buttonTitle: 'b) í•˜ì´ë¸Œë¦¬ë“œ ë°±ì—…',
                        title: 'ì˜µì…˜ 3b: í•˜ì´ë¸Œë¦¬ë“œ ë°±ì—…',
                        concept: 'í•œêµ­ì—ì„œ ìŠ¤ìœ„ì¹­ë§Œ ì›ê²© ì œì–´í•˜ê³ , í˜„ì¥ì—ì„œ ëª¨ë“  ì¹´ë©”ë¼(FR7, í”„ë¦¬ìº )ë¥¼ ìš´ì˜í•©ë‹ˆë‹¤. ë¹„ìƒì‹œë¥¼ ëŒ€ë¹„í•´ í˜„ì¥ì— ì›ê²© ìŠ¤ìœ„ì¹­ì„ ë°±ì—…í•  ì¸ë ¥ê³¼ ì‹œìŠ¤í…œì„ ì¶”ê°€ ë°°ì¹˜í•©ë‹ˆë‹¤.',
                        personnel: { korea: 'ì›ê²© ìŠ¤ìœ„ì¹­ 1ì¸', cyprus: 'í˜„ì¥ ì¹´ë©”ë¼ 1ì¸, í˜„ì¥ ë°±ì—… 1ì¸' },
                        cost: '$20,000',
                        risk: { text: 'ìµœí•˜', class: 'bg-teal-100 text-teal-800' },
                        pros: ['ì¹´ë©”ë¼ ì œì–´ ì§€ì—°ì‹œê°„ ì—†ìŒ', 'ìŠ¤ìœ„ì¹­ ê¸°ëŠ¥ê¹Œì§€ ì´ì¤‘í™”í•˜ì—¬ ì•ˆì •ì„± ê·¹ëŒ€í™”'],
                        cons: ['ê°€ì¥ ë§ì€ ì¸ë ¥(ì´ 3ì¸)ê³¼ ì¥ë¹„ê°€ íˆ¬ì…ë˜ì–´ ë¹„ìš©ì´ ê°€ì¥ ë†’ìŒ', 'ì—­í•  ë¶„ë‹´ì´ ê°€ì¥ ë³µì¡í•¨'],
                        diagram: {
                            html: twoTableDiagramHTML.hide('korea-sub-fr7', 'backup-sub-fr7', 'personnel-indicator'),
                            lines: [
                                { from: 'korea-sub-sw', to: 'sub-table', type: 'remote' },
                                { from: 'cyprus-fr7', to: 'sub-table', type: 'local' },
                                { from: 'cyprus-freecam', to: 'sub-table', type: 'local' },
                                { from: 'backup-sub-sw', to: 'sub-table', type: 'backup' }
                            ]
                        },
                         workflow: {
                            normal: { korea: 'ìŠ¤ìœ„ì¹­ ì»·', cyprus: 'FR7 ì œì–´ / í”„ë¦¬ ì¹´ë©”ë¼' },
                            emergency: { html: `<div class="w-full flex justify-around text-center text-sm"><div class="w-1/3 px-1"><h4 class="font-bold">ğŸ‡°ğŸ‡· í•œêµ­ íŒ€</h4><div class="flow-node mt-2 bg-slate-100 h-full flex items-center justify-center">â³ ëŒ€ê¸°</div></div><div class="w-1/3 px-1"><h4 class="font-bold">ğŸ‡¨ğŸ‡¾ í˜„ì¥ íŒ€</h4><div class="flow-node mt-2 space-y-2"><div class="control-point bg-emerald-100 border-emerald-300 text-emerald-800">FR7 ì œì–´</div><div class="control-point bg-gray-200 border-gray-300 text-gray-500">í”„ë¦¬ ì¹´ë©”ë¼ (í™€ë“œ)</div><div class="font-bold text-slate-400 text-xs mt-1">ì—…ë¬´ ì¡°ì •</div></div><div style="height:1rem; width:2px; background-color: #cbd5e1; margin: 0.5rem auto;"></div><div class="flow-node mt-2 bg-orange-100 border-orange-300 space-y-2"><div class="control-point">ìŠ¤ìœ„ì¹­ ì»·</div><div class="font-bold text-orange-600 text-xs mt-1">ì—­í•  ì „í™˜</div></div></div><div class="w-1/3 px-1"><h4 class="font-bold">ğŸ› ï¸ ê¸°ìˆ íŒ€ (í˜„ì¥)</h4><div class="flow-node mt-2 bg-blue-100 h-full flex items-center justify-center">ì¥ì•  ë³µêµ¬</div></div></div>` }
                        }
                    }
                }
            }
        };

        const threeTableData = {
            s1: {
                title: 'ì‹œë‚˜ë¦¬ì˜¤ 1: ì›ê²© + í˜„ì¥',
                subtitle: 'ì›ê²© ì œì–´ + í˜„ì¥ í”„ë¦¬ìº ',
                options: {
                    a: {
                        title: 'ì˜µì…˜ a: í˜„ì¥ 1ì¸ (+ì™¸ì£¼)',
                        concept: 'í•œêµ­ì—ì„œ 2ê°œ ì„œë¸Œ í…Œì´ë¸”ì˜ ìŠ¤ìœ„ì¹­ê³¼ FR7ì„ ëª¨ë‘ ì›ê²© ì œì–´í•˜ê³ , í˜„ì¥ì—ì„œëŠ” 1ëª…ì˜ ì˜¤í¼ë ˆì´í„°ê°€ í”„ë¦¬ì¹´ë©”ë¼ë¥¼ ìš´ì˜í•©ë‹ˆë‹¤ (ì¶”ê°€ 1ëª…ì€ ì™¸ì£¼ ì¸ë ¥ í™œìš©).',
                        personnel: { korea: 'ì›ê²© ì˜¤í¼ë ˆì´í„° 1~2ëª…', cyprus: 'í”„ë¦¬ìº  ì˜¤í¼ë ˆì´í„° 1ëª… (+ì™¸ì£¼)' },
                        risk: { text: 'ë¦¬ìŠ¤í¬: ì¤‘ / ë¹„ìš©: ì¤‘í•˜', class: 'bg-yellow-100 text-yellow-800' },
                        pros: ['í•µì‹¬ ì¸ë ¥ 1ëª…ë§Œ íŒŒê²¬í•˜ì—¬ ì¶œì¥ ë¹„ìš©ì„ ì ˆê°í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.', 'ì›ê²©ê³¼ í˜„ì¥ ìš´ì˜ì„ ë³‘í–‰í•˜ì—¬ ìœ ì—°ì„±ì„ í™•ë³´í•©ë‹ˆë‹¤.'],
                        cons: ['í˜„ì¥ ì¸ë ¥ 1ëª…ì—ê²Œ ê³¼ë¶€í•˜ê°€ ê±¸ë¦´ ìˆ˜ ìˆìŠµë‹ˆë‹¤.', 'ì™¸ì£¼ ì¸ë ¥ê³¼ì˜ ì»¤ë®¤ë‹ˆì¼€ì´ì…˜ ë° í’ˆì§ˆ ê´€ë¦¬ ì´ìŠˆê°€ ë°œìƒí•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.', 'ì›ê²© ì‹œìŠ¤í…œì˜ ì¥ì•  ë¦¬ìŠ¤í¬ëŠ” ì—¬ì „íˆ ì¡´ì¬í•©ë‹ˆë‹¤.'],
                        diagram: {
                            html: `<div class="location-box text-center w-40 flex flex-col"><div class="p-4 bg-blue-500 text-white rounded-lg shadow-lg">ğŸ‡°ğŸ‡· í•œêµ­</div><div class="text-sm font-semibold mt-1">ì›ê²© ì œì–´ ì„¼í„°</div><div data-id="korea-controls" class="mt-4 space-y-3 min-h-[6rem] flex-grow flex flex-col justify-center items-center"><div class="control-point" data-id="korea-sw-1">ìŠ¤ìœ„ì¹­</div><div class="control-point" data-id="korea-fr7-1">FR7</div><div class="control-point" data-id="korea-sw-2">ìŠ¤ìœ„ì¹­</div><div class="control-point" data-id="korea-fr7-2">FR7</div></div></div><div class="location-box text-center flex flex-col items-center"><div class="p-4 bg-green-500 text-white rounded-lg shadow-lg w-56">ğŸ‡¨ğŸ‡¾ í‚¤í”„ë¡œìŠ¤ í˜„ì¥</div><div class="mt-4 space-y-2 w-full flex-grow flex flex-col"><div data-id="cyprus-controls" class="space-y-2 min-h-[3rem]"></div><div data-id="cyprus-backup" class="mt-2 feature-table bg-orange-100 border-orange-300" style="display: none;">í˜„ì¥ ë°±ì—… ì‹œìŠ¤í…œ</div><div class="mt-4 space-y-3 flex-grow"><div class="feature-table external-op">ë©”ì¸ í…Œì´ë¸”</div><div class="mt-3"><div data-id="sub-table-1" class="feature-table">ì„œë¸Œ í…Œì´ë¸” 1</div><div data-id="sub-table-1-controls" class="mt-2 space-y-1"><div class="control-point" data-id="cyprus-freecam-1">í”„ë¦¬ìº </div></div></div><div class="mt-3"><div data-id="sub-table-2" class="feature-table">ì„œë¸Œ í…Œì´ë¸” 2</div><div data-id="sub-table-2-controls" class="mt-2 space-y-1"><div class="control-point external-role" data-id="cyprus-freecam-2">í”„ë¦¬ìº  (ì™¸ì£¼)</div></div></div></div></div></div>`,
                            lines: [
                                { from: 'korea-sw-1', to: 'sub-table-1', type: 'remote' }, { from: 'korea-fr7-1', to: 'sub-table-1', type: 'remote' },
                                { from: 'korea-sw-2', to: 'sub-table-2', type: 'remote' }, { from: 'korea-fr7-2', to: 'sub-table-2', type: 'remote' },
                                { from: 'cyprus-freecam-1', to: 'sub-table-1', type: 'local' },
                                { from: 'cyprus-freecam-2', to: 'sub-table-2', type: 'local' }
                            ]
                        }
                    },
                    b: {
                        title: 'ì˜µì…˜ b: í˜„ì¥ 2ì¸',
                        concept: 'í•œêµ­ì—ì„œ 2ê°œ ì„œë¸Œ í…Œì´ë¸”ì˜ ìŠ¤ìœ„ì¹­ê³¼ FR7ì„ ëª¨ë‘ ì›ê²© ì œì–´í•˜ê³ , í˜„ì¥ì—ì„œëŠ” 2ëª…ì˜ ì˜¤í¼ë ˆì´í„°ê°€ ê°ê° í”„ë¦¬ì¹´ë©”ë¼ë¥¼ ìš´ì˜í•˜ì—¬ ì•ˆì •ì„±ì„ ë†’ì…ë‹ˆë‹¤.',
                        personnel: { korea: 'ì›ê²© ì˜¤í¼ë ˆì´í„° 1~2ëª…', cyprus: 'í”„ë¦¬ìº  ì˜¤í¼ë ˆì´í„° 2ëª…' },
                        risk: { text: 'ë¦¬ìŠ¤í¬: ì¤‘í•˜ / ë¹„ìš©: ì¤‘', class: 'bg-lime-100 text-lime-800' },
                        pros: ['í˜„ì¥ ì¸ë ¥ 2ëª…ìœ¼ë¡œ ì•ˆì •ì ì¸ í”„ë¦¬ìº  ìš´ì˜ì´ ê°€ëŠ¥í•©ë‹ˆë‹¤.', 'í˜„ì¥ ë¬¸ì œ ë°œìƒ ì‹œ ìƒí˜¸ ë°±ì—… ë° ì‹ ì†í•œ ëŒ€ì‘ì´ ê°€ëŠ¥í•©ë‹ˆë‹¤.'],
                        cons: ['í˜„ì¥ ì¶œì¥ ì¸ì›ì´ 2ëª…ìœ¼ë¡œ ëŠ˜ì–´ë‚˜ ë¹„ìš©ì´ ì¦ê°€í•©ë‹ˆë‹¤.', 'ì›ê²© ì œì–´ ì‹œìŠ¤í…œì˜ ì¥ì•  ë¦¬ìŠ¤í¬ëŠ” ì—¬ì „íˆ ì¡´ì¬í•©ë‹ˆë‹¤.'],
                        diagram: {
                            html: `<div class="location-box text-center w-40 flex flex-col"><div class="p-4 bg-blue-500 text-white rounded-lg shadow-lg">ğŸ‡°ğŸ‡· í•œêµ­</div><div class="text-sm font-semibold mt-1">ì›ê²© ì œì–´ ì„¼í„°</div><div data-id="korea-controls" class="mt-4 space-y-3 min-h-[6rem] flex-grow flex flex-col justify-center items-center"><div class="control-point" data-id="korea-sw-1">ìŠ¤ìœ„ì¹­</div><div class="control-point" data-id="korea-fr7-1">FR7</div><div class="control-point" data-id="korea-sw-2">ìŠ¤ìœ„ì¹­</div><div class="control-point" data-id="korea-fr7-2">FR7</div></div></div><div class="location-box text-center flex flex-col items-center"><div class="p-4 bg-green-500 text-white rounded-lg shadow-lg w-56">ğŸ‡¨ğŸ‡¾ í‚¤í”„ë¡œìŠ¤ í˜„ì¥</div><div class="mt-4 space-y-2 w-full flex-grow flex flex-col"><div data-id="cyprus-controls" class="space-y-2 min-h-[3rem]"></div><div data-id="cyprus-backup" class="mt-2 feature-table bg-orange-100 border-orange-300" style="display: none;">í˜„ì¥ ë°±ì—… ì‹œìŠ¤í…œ</div><div class="mt-4 space-y-3 flex-grow"><div class="feature-table external-op">ë©”ì¸ í…Œì´ë¸”</div><div class="mt-3"><div data-id="sub-table-1" class="feature-table">ì„œë¸Œ í…Œì´ë¸” 1</div><div data-id="sub-table-1-controls" class="mt-2 space-y-1"><div class="control-point" data-id="cyprus-freecam-1">í”„ë¦¬ìº </div></div></div><div class="mt-3"><div data-id="sub-table-2" class="feature-table">ì„œë¸Œ í…Œì´ë¸” 2</div><div data-id="sub-table-2-controls" class="mt-2 space-y-1"><div class="control-point" data-id="cyprus-freecam-2">í”„ë¦¬ìº </div></div></div></div></div></div>`,
                            lines: [
                                { from: 'korea-sw-1', to: 'sub-table-1', type: 'remote' }, { from: 'korea-fr7-1', to: 'sub-table-1', type: 'remote' },
                                { from: 'korea-sw-2', to: 'sub-table-2', type: 'remote' }, { from: 'korea-fr7-2', to: 'sub-table-2', type: 'remote' },
                                { from: 'cyprus-freecam-1', to: 'sub-table-1', type: 'local' },
                                { from: 'cyprus-freecam-2', to: 'sub-table-2', type: 'local' }
                            ]
                        }
                    }
                }
            },
            s2: {
                title: 'ì‹œë‚˜ë¦¬ì˜¤ 2: í•˜ì´ë¸Œë¦¬ë“œ',
                subtitle: 'ì›ê²© ìŠ¤ìœ„ì¹­ + í˜„ì¥ ì¹´ë©”ë¼',
                options: {
                    a: {
                        title: 'ì˜µì…˜ a: í˜„ì¥ 2ì¸ (ë‚´ë¶€)',
                        concept: 'í•œêµ­ì—ì„œ ìŠ¤ìœ„ì¹­ì„ ì›ê²© ì œì–´í•˜ê³ , í˜„ì¥ì—ì„œëŠ” ë‚´ë¶€ ì¸ë ¥ 2ëª…ì´ ê°ê°ì˜ ì„œë¸Œ í…Œì´ë¸” FR7ê³¼ í”„ë¦¬ìº ì„ ëª¨ë‘ ë‹´ë‹¹í•˜ì—¬ ìµœê³ ì˜ í’ˆì§ˆì„ ë³´ì¥í•©ë‹ˆë‹¤.',
                        personnel: { korea: 'ìŠ¤ìœ„ì¹­ 1ëª…', cyprus: 'ì¹´ë©”ë¼ ì˜¤í¼ë ˆì´í„° 2ëª…' },
                        risk: { text: 'ë¦¬ìŠ¤í¬: ì¤‘ / ë¹„ìš©: ìƒ', class: 'bg-yellow-100 text-yellow-800' },
                        pros: ['ë‚´ë¶€ ì¸ë ¥ ê°„ì˜ ì›í™œí•œ ì†Œí†µìœ¼ë¡œ ë†’ì€ ë°©ì†¡ í’ˆì§ˆì„ ê¸°ëŒ€í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.'],
                        cons: ['í˜„ì¥ ì¶œì¥ ì¸ì›ì´ 2ëª…ìœ¼ë¡œ ë¹„ìš© ë¶€ë‹´ì´ ë†’ìŠµë‹ˆë‹¤.', 'ì›ê²© ìŠ¤ìœ„ì¹­ ì¥ì•  ë¦¬ìŠ¤í¬ê°€ ì¡´ì¬í•©ë‹ˆë‹¤.'],
                        diagram: {
                           html: `<div class="location-box text-center w-40 flex flex-col"><div class="p-4 bg-blue-500 text-white rounded-lg shadow-lg">ğŸ‡°ğŸ‡· í•œêµ­</div><div class="text-sm font-semibold mt-1">ì›ê²© ì œì–´ ì„¼í„°</div><div data-id="korea-controls" class="mt-4 space-y-3 min-h-[6rem] flex-grow flex flex-col justify-center items-center"><div class="control-point" data-id="korea-sw-1">ìŠ¤ìœ„ì¹­</div><div class="control-point" data-id="korea-sw-2">ìŠ¤ìœ„ì¹­</div></div></div><div class="location-box text-center flex flex-col items-center"><div class="p-4 bg-green-500 text-white rounded-lg shadow-lg w-56">ğŸ‡¨ğŸ‡¾ í‚¤í”„ë¡œìŠ¤ í˜„ì¥</div><div class="mt-4 space-y-2 w-full flex-grow flex flex-col"><div data-id="cyprus-controls" class="space-y-2 min-h-[3rem]"></div><div data-id="cyprus-backup" class="mt-2 feature-table bg-orange-100 border-orange-300" style="display: none;">í˜„ì¥ ë°±ì—… ì‹œìŠ¤í…œ</div><div class="mt-4 space-y-3 flex-grow"><div class="feature-table external-op">ë©”ì¸ í…Œì´ë¸”</div><div class="mt-3"><div data-id="sub-table-1" class="feature-table">ì„œë¸Œ í…Œì´ë¸” 1</div><div data-id="sub-table-1-controls" class="mt-2 space-y-1"><div class="control-point" data-id="cyprus-fr7-1">FR7</div><div class="control-point" data-id="cyprus-freecam-1">í”„ë¦¬ìº </div></div></div><div class="mt-3"><div data-id="sub-table-2" class="feature-table">ì„œë¸Œ í…Œì´ë¸” 2</div><div data-id="sub-table-2-controls" class="mt-2 space-y-1"><div class="control-point" data-id="cyprus-fr7-2">FR7</div><div class="control-point" data-id="cyprus-freecam-2">í”„ë¦¬ìº </div></div></div></div></div></div>`,
                           lines: [
                                { from: 'korea-sw-1', to: 'sub-table-1', type: 'remote' }, { from: 'korea-sw-2', to: 'sub-table-2', type: 'remote' },
                                { from: 'cyprus-fr7-1', to: 'sub-table-1', type: 'local' }, { from: 'cyprus-freecam-1', to: 'sub-table-1', type: 'local' },
                                { from: 'cyprus-fr7-2', to: 'sub-table-2', type: 'local' }, { from: 'cyprus-freecam-2', to: 'sub-table-2', type: 'local' }
                            ]
                        }
                    },
                    b: {
                        title: 'ì˜µì…˜ b: í˜„ì¥ 1ì¸ (+ì™¸ì£¼)',
                        concept: 'í•œêµ­ì—ì„œ ìŠ¤ìœ„ì¹­ì„ ì›ê²© ì œì–´í•˜ê³ , í˜„ì¥ì—ì„œëŠ” ë‚´ë¶€ ì¸ë ¥ 1ëª…ì´ FR7ì„, ì™¸ì£¼ ì¸ë ¥ 1ëª…ì´ í”„ë¦¬ìº ì„ ë‹´ë‹¹í•˜ì—¬ ë¹„ìš© íš¨ìœ¨ì„±ì„ ë†’ì…ë‹ˆë‹¤.',
                        personnel: { korea: 'ìŠ¤ìœ„ì¹­ 1ëª…', cyprus: 'FR7 1ëª… + í”„ë¦¬ìº  1ëª… (ì™¸ì£¼)' },
                        risk: { text: 'ë¦¬ìŠ¤í¬: ì¤‘ / ë¹„ìš©: ì¤‘', class: 'bg-yellow-100 text-yellow-800' },
                        pros: ['ì¶œì¥ ì¸ì›ì„ 1ëª…ìœ¼ë¡œ ì¤„ì—¬ ë¹„ìš©ì„ ì ˆê°í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.'],
                        cons: ['ì™¸ì£¼ ì¸ë ¥ê³¼ì˜ ì†Œí†µ ë° í’ˆì§ˆ ê´€ë¦¬ ë¬¸ì œê°€ ë°œìƒí•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.', 'ì›ê²© ìŠ¤ìœ„ì¹­ ì¥ì•  ë¦¬ìŠ¤í¬ê°€ ì¡´ì¬í•©ë‹ˆë‹¤.'],
                        diagram: {
                           html: `<div class="location-box text-center w-40 flex flex-col"><div class="p-4 bg-blue-500 text-white rounded-lg shadow-lg">ğŸ‡°ğŸ‡· í•œêµ­</div><div class="text-sm font-semibold mt-1">ì›ê²© ì œì–´ ì„¼í„°</div><div data-id="korea-controls" class="mt-4 space-y-3 min-h-[6rem] flex-grow flex flex-col justify-center items-center"><div class="control-point" data-id="korea-sw-1">ìŠ¤ìœ„ì¹­</div><div class="control-point" data-id="korea-sw-2">ìŠ¤ìœ„ì¹­</div></div></div><div class="location-box text-center flex flex-col items-center"><div class="p-4 bg-green-500 text-white rounded-lg shadow-lg w-56">ğŸ‡¨ğŸ‡¾ í‚¤í”„ë¡œìŠ¤ í˜„ì¥</div><div class="mt-4 space-y-2 w-full flex-grow flex flex-col"><div data-id="cyprus-controls" class="space-y-2 min-h-[3rem]"></div><div data-id="cyprus-backup" class="mt-2 feature-table bg-orange-100 border-orange-300" style="display: none;">í˜„ì¥ ë°±ì—… ì‹œìŠ¤í…œ</div><div class="mt-4 space-y-3 flex-grow"><div class="feature-table external-op">ë©”ì¸ í…Œì´ë¸”</div><div class="mt-3"><div data-id="sub-table-1" class="feature-table">ì„œë¸Œ í…Œì´ë¸” 1</div><div data-id="sub-table-1-controls" class="mt-2 space-y-1"><div class="control-point" data-id="cyprus-fr7-1">FR7</div><div class="control-point" data-id="cyprus-freecam-1">í”„ë¦¬ìº </div></div></div><div class="mt-3"><div data-id="sub-table-2" class="feature-table">ì„œë¸Œ í…Œì´ë¸” 2</div><div data-id="sub-table-2-controls" class="mt-2 space-y-1"><div class="control-point" data-id="cyprus-fr7-2">FR7</div><div class="control-point external-role" data-id="cyprus-freecam-2">í”„ë¦¬ìº  (ì™¸ì£¼)</div></div></div></div></div></div>`,
                           lines: [
                                { from: 'korea-sw-1', to: 'sub-table-1', type: 'remote' }, { from: 'korea-sw-2', to: 'sub-table-2', type: 'remote' },
                                { from: 'cyprus-fr7-1', to: 'sub-table-1', type: 'local' }, { from: 'cyprus-freecam-1', to: 'sub-table-1', type: 'local' },
                                { from: 'cyprus-fr7-2', to: 'sub-table-2', type: 'local' }, { from: 'cyprus-freecam-2', to: 'sub-table-2', type: 'local' }
                            ]
                        }
                    },
                }
            },
            s3: {
                title: 'ì‹œë‚˜ë¦¬ì˜¤ 3: ì™„ì „ ë¶„ì‚° í•˜ì´ë¸Œë¦¬ë“œ',
                subtitle: 'í…Œì´ë¸”ë³„ 1:1 ì „ë‹´',
                options: {
                    a: {
                        title: 'ì˜µì…˜ a: í˜„ì¥ 3ì¸ (ë‚´ë¶€)',
                        concept: "í•œêµ­ì—ì„œ ì„œë¸Œ í…Œì´ë¸” 1ê°œë¥¼ ì›ê²© ì „ë‹´í•˜ê³ , í˜„ì§€ì—ì„œëŠ” ë‚´ë¶€ ì¸ë ¥ 3ëª…ì´ ì„œë¸Œ í…Œì´ë¸” 2ì™€ ì–‘ìª½ í”„ë¦¬ìº ì„ ëª¨ë‘ ë‹´ë‹¹í•©ë‹ˆë‹¤.",
                        personnel: { korea: 'ì›ê²© ì˜¤í¼ë ˆì´í„° 1ëª…', cyprus: 'í˜„ì¥ ì˜¤í¼ë ˆì´í„° 3ëª…' },
                        risk: { text: 'ë¦¬ìŠ¤í¬: í•˜ / ë¹„ìš©: ìµœìƒ', class: 'bg-green-100 text-green-800' },
                        pros: [ 'í…Œì´ë¸”ë³„ ìš´ì˜ ì£¼ì²´ê°€ ëª…í™•í•˜ê³ , í˜„ì¥ ìš´ì˜ íŒŒíŠ¸ëŠ” ë„¤íŠ¸ì›Œí¬ ì¥ì• ë¡œë¶€í„° ì•ˆì „í•©ë‹ˆë‹¤.'],
                        cons: [ 'ì›ê²© í…Œì´ë¸”ì€ ë¦¬ìŠ¤í¬ì— ë…¸ì¶œë˜ë©°, ì´ 4ëª…ì˜ ë‚´ë¶€ ì¸ë ¥ì´ í•„ìš”í•˜ì—¬ ë¹„ìš©ì´ ë§¤ìš° ë†’ìŠµë‹ˆë‹¤.'],
                        diagram: {
                            html: `<div class="location-box text-center w-40 flex flex-col"><div class="p-4 bg-blue-500 text-white rounded-lg shadow-lg">ğŸ‡°ğŸ‡· í•œêµ­</div><div class="text-sm font-semibold mt-1">ì›ê²© ì œì–´ ì„¼í„°</div><div data-id="korea-controls" class="mt-4 space-y-3 min-h-[6rem] flex-grow flex flex-col justify-center items-center"><div class="control-point" data-id="korea-sw-1">ìŠ¤ìœ„ì¹­</div><div class="control-point" data-id="korea-fr7-1">FR7</div></div></div><div class="location-box text-center flex flex-col items-center"><div class="p-4 bg-green-500 text-white rounded-lg shadow-lg w-56">ğŸ‡¨ğŸ‡¾ í‚¤í”„ë¡œìŠ¤ í˜„ì¥</div><div class="mt-4 space-y-2 w-full flex-grow flex flex-col"><div data-id="cyprus-controls" class="space-y-2 min-h-[3rem]"><div class="control-point" data-id="cyprus-sw-2">ìŠ¤ìœ„ì¹­</div><div class="control-point" data-id="cyprus-fr7-2">FR7</div></div><div data-id="cyprus-backup" class="mt-2 feature-table bg-orange-100 border-orange-300" style="display: none;">í˜„ì¥ ë°±ì—… ì‹œìŠ¤í…œ</div><div class="mt-4 space-y-3 flex-grow"><div class="feature-table external-op">ë©”ì¸ í…Œì´ë¸”</div><div class="mt-3"><div data-id="sub-table-1" class="feature-table">ì„œë¸Œ í…Œì´ë¸” 1</div><div data-id="sub-table-1-controls" class="mt-2 space-y-1"><div class="control-point" data-id="cyprus-freecam-1">í”„ë¦¬ìº </div></div></div><div class="mt-3"><div data-id="sub-table-2" class="feature-table">ì„œë¸Œ í…Œì´ë¸” 2</div><div data-id="sub-table-2-controls" class="mt-2 space-y-1"><div class="control-point" data-id="cyprus-freecam-2">í”„ë¦¬ìº </div></div></div></div></div></div>`,
                            lines: [
                                { from: 'korea-sw-1', to: 'sub-table-1', type: 'remote' }, { from: 'korea-fr7-1', to: 'sub-table-1', type: 'remote' },
                                { from: 'cyprus-freecam-1', to: 'sub-table-1', type: 'local' },
                                { from: 'cyprus-sw-2', to: 'sub-table-2', type: 'local' }, { from: 'cyprus-fr7-2', to: 'sub-table-2', type: 'local' }, { from: 'cyprus-freecam-2', to: 'sub-table-2', type: 'local' }
                            ]
                        }
                    }
                }
            },
            s4: {
                title: 'ì‹œë‚˜ë¦¬ì˜¤ 4: ì™„ì „ ë¡œì»¬',
                subtitle: 'í˜„ì¥ ìš´ì˜ + í”„ë¦¬ìº  ì™¸ì£¼',
                concept: 'ì›ê²© ì œì–´ ì—†ì´, í˜„ì§€ì—ì„œ ë‚´ë¶€ ì¸ë ¥ì´ 2ê°œ ì„œë¸Œ í…Œì´ë¸”ì˜ ìŠ¤ìœ„ì¹­ê³¼ FR7 ìš´ì˜ì„ ëª¨ë‘ ì±…ì„ì§‘ë‹ˆë‹¤. í”„ë¦¬ìº  ìš´ì˜ì€ ì™¸ì£¼ ì¸ë ¥ì„ í™œìš©í•˜ì—¬ íš¨ìœ¨ì„±ì„ ë†’ì…ë‹ˆë‹¤.',
                personnel: { korea: 'ì¸ë ¥ ë¶ˆí•„ìš”', cyprus: 'í˜„ì¥ ì˜¤í¼ë ˆì´í„° 2ëª… + í”„ë¦¬ìº  2ëª… (ì™¸ì£¼)' },
                risk: { text: 'ë¦¬ìŠ¤í¬: í•˜ / ë¹„ìš©: ìƒ', class: 'bg-green-100 text-green-800' },
                pros: ['ë„¤íŠ¸ì›Œí¬ ë¦¬ìŠ¤í¬ê°€ ì—†ìœ¼ë©°, í•µì‹¬ ìš´ì˜ì„ ë‚´ë¶€ ì¸ë ¥ì´ ë‹´ë‹¹í•˜ì—¬ ì•ˆì •ì ì…ë‹ˆë‹¤.', 'í”„ë¦¬ìº  ì™¸ì£¼ë¥¼ í†µí•´ ë¹„ìš©ì„ ì¼ë¶€ ì ˆê°í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.'],
                cons: ['ì—¬ì „íˆ 2ëª…ì˜ ë‚´ë¶€ ì¸ë ¥ íŒŒê²¬ ë¹„ìš©ì´ ë°œìƒí•©ë‹ˆë‹¤.', 'ì™¸ì£¼ ì¸ë ¥ê³¼ì˜ ì†Œí†µ ë° í’ˆì§ˆ ê´€ë¦¬ ì´ìŠˆê°€ ë°œìƒí•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.'],
                diagram: {
                    html: `<div class="location-box text-center w-40 flex flex-col"><div class="p-4 bg-blue-500 text-white rounded-lg shadow-lg">ğŸ‡°ğŸ‡· í•œêµ­</div><div class="text-sm font-semibold mt-1">ì›ê²© ì œì–´ ì„¼í„°</div><div data-id="korea-controls" class="mt-4 space-y-3 min-h-[6rem] flex-grow flex flex-col justify-center items-center"></div></div><div class="location-box text-center flex flex-col items-center"><div class="p-4 bg-green-500 text-white rounded-lg shadow-lg w-56">ğŸ‡¨ğŸ‡¾ í‚¤í”„ë¡œìŠ¤ í˜„ì¥</div><div class="mt-4 space-y-2 w-full flex-grow flex flex-col"><div data-id="cyprus-controls" class="space-y-2 min-h-[3rem]"><div class="control-point" data-id="cyprus-sw-1">ìŠ¤ìœ„ì¹­</div><div class="control-point" data-id="cyprus-fr7-1">FR7</div><div class="control-point" data-id="cyprus-sw-2">ìŠ¤ìœ„ì¹­</div><div class="control-point" data-id="cyprus-fr7-2">FR7</div></div><div data-id="cyprus-backup" class="mt-2 feature-table bg-orange-100 border-orange-300" style="display: none;">í˜„ì¥ ë°±ì—… ì‹œìŠ¤í…œ</div><div class="mt-4 space-y-3 flex-grow"><div class="feature-table external-op">ë©”ì¸ í…Œì´ë¸”</div><div class="mt-3"><div data-id="sub-table-1" class="feature-table">ì„œë¸Œ í…Œì´ë¸” 1</div><div data-id="sub-table-1-controls" class="mt-2 space-y-1"><div class="control-point external-role" data-id="cyprus-freecam-1">í”„ë¦¬ìº  (ì™¸ì£¼)</div></div></div><div class="mt-3"><div data-id="sub-table-2" class="feature-table">ì„œë¸Œ í…Œì´ë¸” 2</div><div data-id="sub-table-2-controls" class="mt-2 space-y-1"><div class="control-point external-role" data-id="cyprus-freecam-2">í”„ë¦¬ìº  (ì™¸ì£¼)</div></div></div></div></div></div>`,
                    lines: [
                        { from: 'cyprus-sw-1', to: 'sub-table-1', type: 'local' }, { from: 'cyprus-fr7-1', to: 'sub-table-1', type: 'local' }, { from: 'cyprus-freecam-1', to: 'sub-table-1', type: 'local' },
                        { from: 'cyprus-sw-2', to: 'sub-table-2', type: 'local' }, { from: 'cyprus-fr7-2', to: 'sub-table-2', type: 'local' }, { from: 'cyprus-freecam-2', to: 'sub-table-2', type: 'local' }
                    ]
                }
            }
        };


        /**
         * ----------------------------------------------------------------
         * InteractiveAnalyzer Class
         * ----------------------------------------------------------------
         */
        class InteractiveAnalyzer {
            constructor(config) {
                this.config = config;
                this.data = config.data;
                this.dom = config.dom;
                this.activeState = {
                    group: config.initialGroup,
                    option: config.initialOption
                };
                this.handleGroupChange = this.handleGroupChange.bind(this);
                this.handleOptionChange = this.handleOptionChange.bind(this);
                this.redraw = this.redraw.bind(this);
            }

            init() {
                this.renderControls();
                this.updateDisplay();
                this.dom.controls.addEventListener('click', this.handleGroupChange);
                if (this.dom.subControls) {
                    this.dom.subControls.addEventListener('click', this.handleOptionChange);
                }
                const resizeObserver = new ResizeObserver(this.redraw);
                resizeObserver.observe(this.dom.diagram);
            }

            handleGroupChange(e) {
                const button = e.target.closest('[data-group-key]');
                if (!button) return;
                const newGroupKey = button.dataset.groupKey;
                if (this.config.type === 'flat') {
                    const newOptionKey = button.dataset.optionKey;
                    if (newGroupKey !== this.activeState.group || newOptionKey !== this.activeState.option) {
                        this.activeState.group = newGroupKey;
                        this.activeState.option = newOptionKey;
                        this.updateDisplay();
                    }
                } else { // grouped
                    if (newGroupKey !== this.activeState.group) {
                        this.activeState.group = newGroupKey;
                        const newGroupData = this.data[newGroupKey];
                        this.activeState.option = newGroupData.options ? Object.keys(newGroupData.options)[0] : 'a';
                        this.updateDisplay();
                    }
                }
            }
            
            handleOptionChange(e) {
                const button = e.target.closest('[data-option-key]');
                if (!button) return;
                const newOptionKey = button.dataset.optionKey;
                if (newOptionKey !== this.activeState.option) {
                    this.activeState.option = newOptionKey;
                    this.updateDisplay();
                }
            }

            updateDisplay() {
                const { group, option } = this.activeState;
                if (!this.data || !this.data[group]) {
                    console.error("Data not found for group:", group);
                    return;
                }
                const groupData = this.data[group];
                const displayData = groupData.options ? groupData.options[option] : groupData;

                if (!displayData) {
                    console.error("No data found for state:", this.activeState);
                    return;
                }
                
                this.dom.content.style.opacity = 0;
                if(this.dom.details) this.dom.details.style.opacity = 0;

                setTimeout(() => {
                    this.updateControlsState();
                    if(displayData.diagram) this.renderDiagram(displayData.diagram);
                    if(this.dom.details) this.renderDetails(displayData);
                    if (this.dom.workflow && displayData.workflow) {
                        this.renderWorkflow(displayData.workflow);
                    }
                    this.dom.content.style.opacity = 1;
                    if(this.dom.details) this.dom.details.style.opacity = 1;
                }, 200);
            }

            renderControls() {
                if (this.config.type === 'flat') {
                    const controlContainer = document.createElement('div');
                    controlContainer.className = 'flex justify-center items-start flex-wrap gap-4 md:gap-8';
                    Object.entries(this.data).forEach(([groupKey, groupData]) => {
                         const buttonGroup = document.createElement('div');
                         buttonGroup.className = 'text-center';
                         buttonGroup.innerHTML = `<span class="font-bold text-slate-700 text-lg">${groupData.groupTitle}</span>`;
                         const buttonContainer = document.createElement('div');
                         buttonContainer.className = 'flex mt-2 p-1.5 bg-slate-200 rounded-xl space-x-2';
                         Object.entries(groupData.options).forEach(([optKey, optData]) => {
                            const button = document.createElement('button');
                            button.dataset.groupKey = groupKey;
                            button.dataset.optionKey = optKey;
                            button.className = 'option-btn px-3 py-2 sm:px-4 sm:py-2.5 bg-white rounded-lg shadow-sm font-semibold text-slate-700 hover:bg-slate-50 transition-all duration-300 ease-in-out';
                            button.textContent = optData.buttonTitle;
                            buttonContainer.appendChild(button);
                         });
                         buttonGroup.appendChild(buttonContainer);
                         controlContainer.appendChild(buttonGroup);
                    });
                    this.dom.controls.innerHTML = '';
                    this.dom.controls.appendChild(controlContainer);
                } else if (this.config.type === 'grouped') {
                    this.dom.controls.innerHTML = '';
                     Object.keys(this.data).forEach(key => {
                        const scenario = this.data[key];
                        const card = document.createElement('div');
                        card.className = 'scenario-card';
                        card.dataset.groupKey = key;
                        card.innerHTML = `<h3 class="font-bold text-lg text-slate-800">${scenario.title}</h3><p class="text-sm text-slate-500">${scenario.subtitle}</p>`;
                        this.dom.controls.appendChild(card);
                    });
                }
            }

            updateControlsState() {
                const { group, option } = this.activeState;
                this.dom.controls.querySelectorAll('[data-group-key]').forEach(btn => {
                    if (this.config.type === 'flat') {
                        btn.classList.toggle('active-btn', btn.dataset.groupKey === group && btn.dataset.optionKey === option);
                    } else {
                        btn.classList.toggle('active-btn', btn.dataset.groupKey === group);
                    }
                });

                if (this.dom.subControls) {
                    const groupData = this.data[group];
                    const subControlContainer = this.dom.subControls.querySelector('div');
                    if (groupData && groupData.options) {
                        this.dom.subControls.classList.remove('hidden');
                        subControlContainer.innerHTML = '';
                        Object.keys(groupData.options).forEach(optKey => {
                            const optData = groupData.options[optKey];
                            const button = document.createElement('button');
                            button.className = 'sub-option-btn px-3 py-2 sm:px-4 sm:py-2.5 bg-white rounded-lg shadow-sm font-semibold text-slate-700 hover:bg-slate-50 transition-all duration-300 ease-in-out';
                            button.textContent = optData.title;
                            button.dataset.optionKey = optKey;
                            if (optKey === option) button.classList.add('active-btn');
                            subControlContainer.appendChild(button);
                        });
                    } else {
                        this.dom.subControls.classList.add('hidden');
                    }
                }
            }

            renderDetails(data) {
                if (this.dom.optionTitle) {
                    this.dom.optionTitle.textContent = this.config.type === 'grouped' ? `${data.title} ë¶„ì„` : data.title;
                }
                const detailsContainer = this.dom.details;
                const costHTML = data.cost ? `<div><h4 class="font-bold text-lg mb-3 text-slate-800">ğŸ’° ì¶”ê°€ ë¹„ìš©</h4><div class="text-xl font-bold text-blue-600">${data.cost}</div></div>` : '';
                detailsContainer.innerHTML = `
                    <div><h4 class="font-bold text-lg mb-2 text-slate-800">ğŸ’¡ ê°œë…</h4><p class="text-slate-600 leading-relaxed">${data.concept}</p></div>
                    <div><h4 class="font-bold text-lg mb-3 text-slate-800">ğŸ‘¥ ì¸ë ¥ êµ¬ì„±</h4><div class="space-y-1 text-slate-600">
                        <p><span class="font-semibold">ğŸ‡°ğŸ‡· í•œêµ­:</span> ${data.personnel.korea}</p>
                        <p><span class="font-semibold">ğŸ‡¨ğŸ‡¾ í‚¤í”„ë¡œìŠ¤:</span> ${data.personnel.cyprus}</p>
                    </div></div>
                    ${costHTML}
                    <div><h4 class="font-bold text-lg mb-3 text-slate-800">âš ï¸ ë¦¬ìŠ¤í¬ ìˆ˜ì¤€</h4><div class="inline-block px-4 py-1.5 text-base font-bold rounded-full ${data.risk.class}">${data.risk.text}</div></div>
                    <div><h4 class="font-bold text-lg mb-3 text-slate-800">ğŸ‘ ì¥ì </h4><ul class="space-y-2">${data.pros.map(item => `<li class="flex items-start"><span class="text-green-500 mr-3 text-xl">âœ“</span><span class="text-slate-600">${item}</span></li>`).join('')}</ul></div>
                    <div><h4 class="font-bold text-lg mb-3 text-slate-800">ğŸ‘ ë‹¨ì </h4><ul class="space-y-2">${data.cons.map(item => `<li class="flex items-start"><span class="text-red-500 mr-3 text-xl">âœ—</span><span class="text-slate-600">${item}</span></li>`).join('')}</ul></div>
                `;
            }

            renderDiagram(diagramConfig) {
                this.dom.diagram.innerHTML = diagramConfig.html;
                setTimeout(() => {
                    const allElements = {};
                    this.dom.diagram.querySelectorAll('[data-id]').forEach(el => { allElements[el.dataset.id] = el; });
                    diagramConfig.lines.forEach(lineInfo => {
                        const startEl = allElements[lineInfo.from];
                        const endEl = allElements[lineInfo.to];
                        if (startEl && endEl) {
                            this.dom.diagram.appendChild(this.createControlLine(startEl, endEl, lineInfo.type));
                        }
                    });
                }, 50);
            }
            
            renderWorkflow(workflowConfig) {
                 this.dom.workflow.innerHTML = `
                    <div class="flex items-center justify-center w-full max-w-4xl mx-auto">
                        <div class="relative w-full p-4 border-2 border-blue-500 rounded-xl bg-blue-50">
                            <div class="absolute -top-4 left-1/2 -translate-x-1/2 bg-blue-500 text-white px-3 py-1 rounded-full text-sm font-bold flex items-center">
                                <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2.5" stroke-linecap="round" stroke-linejoin="round" class="mr-1.5"><path d="M21 12a9 9 0 1 1-6.219-8.56"></path></svg>
                                ìƒì‹œ ì—…ë¬´
                            </div>
                            <div class="flex justify-around mt-6">
                                <div class="text-center flow-node w-56 space-y-2">
                                    <p class="font-semibold">ğŸ‡°ğŸ‡· í•œêµ­ íŒ€ (ì›ê²©)</p>
                                    <div class="control-point">${workflowConfig.normal.korea.replace(' / ', '</div><div class="control-point">')}</div>
                                </div>
                                <div class="text-center flow-node w-56 space-y-2">
                                    <p class="font-semibold">ğŸ‡¨ğŸ‡¾ í˜„ì¥ íŒ€</p>
                                    <div class="control-point">${workflowConfig.normal.cyprus.replace(' / ', '</div><div class="control-point">')}</div>
                                </div>
                            </div>
                        </div>
                    </div>
                    <div class="w-full max-w-4xl mx-auto flex justify-center items-stretch my-2" style="height: 6rem;">
                        <div class="w-1/2 flex justify-end pr-8"><div class="h-full w-1 bg-green-500 relative flex items-center justify-center"><div class="absolute top-0 w-0 h-0 border-l-8 border-r-8 border-b-8 border-l-transparent border-r-transparent border-b-green-500"></div><span class="absolute top-1/2 -translate-y-1/2 -left-2 -translate-x-full text-xs font-bold text-green-600 whitespace-nowrap">ì¥ì•  í•´ê²°</span></div></div>
                        <div class="w-1/2 flex justify-start pl-8"><div class="h-full w-1 bg-red-400 relative flex items-center justify-center"><span class="absolute text-2xl -top-4 text-red-500">âš¡ï¸</span><div class="absolute bottom-0 w-0 h-0 border-l-8 border-r-8 border-t-8 border-l-transparent border-r-transparent border-t-red-400"></div><span class="absolute top-1/2 -translate-y-1/2 -right-2 translate-x-full text-xs font-bold text-red-600 whitespace-nowrap">ì¥ì•  ë°œìƒ</span></div></div>
                    </div>
                    <div class="relative w-full max-w-4xl mx-auto p-4 border-2 border-red-500 rounded-xl bg-red-50 mt-2">
                        <div class="absolute -top-4 left-1/2 -translate-x-1/2 bg-red-500 text-white px-3 py-1 rounded-full text-sm font-bold flex items-center">ğŸš¨ ë¹„ìƒì‹œ ì—…ë¬´</div>
                        <div class="mt-6">${workflowConfig.emergency.html}</div>
                    </div>`;
            }

            createControlLine(startEl, endEl, type) {
                const containerRect = this.dom.diagram.getBoundingClientRect();
                const startRect = startEl.getBoundingClientRect();
                const endRect = endEl.getBoundingClientRect();
                if (!containerRect.width || !containerRect.height) return document.createElement('div');
                const startX = startRect.left + startRect.width / 2 - containerRect.left;
                const startY = startRect.top + startRect.height / 2 - containerRect.top;
                const endX = endRect.left + endRect.width / 2 - containerRect.left;
                const endY = endRect.top + endRect.height / 2 - containerRect.top;
                const dx = endX - startX;
                const dy = endY - startY;
                const length = Math.sqrt(dx * dx + dy * dy);
                const angle = Math.atan2(dy, dx) * 180 / Math.PI;
                const line = document.createElement('div');
                line.className = `control-line ${type}`;
                line.style.width = `${length}px`;
                line.style.top = `${startY}px`;
                line.style.left = `${startX}px`;
                line.style.transform = `rotate(${angle}deg)`;
                const arrow = document.createElement('div');
                arrow.className = `arrow ${type}`;
                line.appendChild(arrow);
                return line;
            }
            
            redraw() { this.updateDisplay(); }
        }

        // --- Initialize 2-Table Analyzer ---
        const analyzer2Table = new InteractiveAnalyzer({
            type: 'flat',
            data: twoTableData,
            initialGroup: 'option1',
            initialOption: 'a',
            dom: {
                controls: document.getElementById('analyzer-2-table-controls'),
                diagram: document.getElementById('analyzer-2-table-diagram'),
                content: document.getElementById('analyzer-2-table-content'),
                details: document.getElementById('analyzer-2-table-option-details'),
                optionTitle: document.getElementById('analyzer-2-table-option-title'),
                workflow: document.getElementById('analyzer-2-table-workflow'),
            }
        });
        analyzer2Table.init();

        // --- Initialize 3-Table Analyzer ---
        const analyzer3Table = new InteractiveAnalyzer({
            type: 'grouped',
            data: threeTableData,
            initialGroup: 's1',
            initialOption: 'a',
            dom: {
                controls: document.getElementById('analyzer-3-table-controls'),
                subControls: document.getElementById('analyzer-3-table-sub-controls'),
                diagram: document.getElementById('analyzer-3-table-diagram'),
                content: document.getElementById('analyzer-3-table-content'),
                details: document.getElementById('analyzer-3-table-option-details'),
                optionTitle: document.getElementById('analyzer-3-table-option-title'),
            }
        });
        analyzer3Table.init();

    });
    </script>
</body>
</html>
